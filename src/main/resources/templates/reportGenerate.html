<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title><!DOCTYPE html>
        <html xmlns:th="http://www.thymeleaf.org">
        <head>
            <meta charset="UTF-8">
            <title>Terminy</title>
            <meta name="viewport" content="width=device-width, initial-scale=1">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.css">
            <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
            <style type="text/css">
        body{ font: 14px sans-serif; text-align: center; }
        .wrapper{ width: 350px; padding: 20px; margin:auto; }
    </style>
        </head>
<body>

<nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Terminy</a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav">
                <li class="active"><a href="/company"><span class="glyphicon glyphicon-list"></span> Twoja firma</a></li>
                <li><a href="/company/companySchedule"><span class="glyphicon glyphicon-calendar"></span> Kalendarz</a></li>
                <li><a href="/company/companyServices"><span class="glyphicon glyphicon-plus"></span> Usługi</a></li>
                <li><a href="/company/blockingUsers"><span class="glyphicon glyphicon-ban-circle"></span> Blokowanie użytkowników</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="/company/editCompany"><span class="glyphicon glyphicon-user"></span> Twoje konto</a></li>
                <li><a href="/logout"><span class="glyphicon glyphicon-log-in"></span> Wyloguj</a></li>
            </ul>
        </div>
    </div>
</nav>


<form class="form-horizontal" action="#" th:action="@{/company/companySchedule}" th:object="${companySchedule}" method="post">
    <fieldset style="text-align: center;">
        <div class="wrapper">
            <div class="form-group">
                <label class="col-md-4 control-label" for="name">Dzień</label>
                <div class="col-md-1">
                    <select id="dni" onchange="changechart(this.value);">
                        <option value="brak">-wybierz-</option>
                        <option value="dni-zarobki">dni-zarobki</option>
                        <option value="dni-rezerwacje">dni-rezerwacje</option>
                        <option value="Środa">Środa</option>
                        <option value="Czwartek">Czwartek</option>
                        <option value="Piątek">Piątek</option>
                        <option value="Sobota">Sobota</option>
                        <option value="Niedziela">Niedziela</option>
                    </select>
                </div>
            </div>
        </div>
    </fieldset>
</form>



<div align="center">
    <div class="chart-container" style="position: relative; height:30vh; width:80vw">
        <canvas id="chart"></canvas>
    </div>
</div>

<script>
var e = document.getElementById("dni");
var strUser = e.options[e.selectedIndex].value;


 var ctx = document.getElementById('chart').getContext('2d');

    function changechart(id)
    {

        if(id == "dni-rezerwacje"){ dniRezerwacje();}
        else if(id == "dni-zarobki") {dniZarobki();}
    }


    function dniRezerwacje()
    {

<!--        var colors = [];-->
<!--        var border = [];-->
<!--        for (i = 0; i < 7; i++) {-->
<!--            colors.push('rgba(54, 162, 235, 0.2)');-->
<!--        }-->
<!--        for (i = 0; i < 7; i++) {-->
<!--            border.push('rgba(54, 162, 235, 1)');-->
<!--        }-->
<!--        var ctx = document.getElementById('chart').getContext('2d');-->
        var myChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ["Poniedziałek", "Wtorek", "Sroda", "Czwartel", "Piątek", "Sobota", "Niedziela"],
                datasets: [{
                    label: 'liczba umówionych wizyt',
                    data: [12, 19, 3, 5, 2, 3],
<!--                    backgroundColor: colors,-->
<!--                    borderColor: border,-->
                    borderWidth: 1
                }]
            }
<!--            options: {-->
<!--                scales: {-->
<!--                    yAxes: [{-->
<!--                        ticks: {-->
<!--                            beginAtZero: true-->
<!--                        }-->
<!--                    }]-->
<!--                }-->
<!--            }-->
}
);
    }


    function dniZarobki()
    {
        var myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: [strUser, "Wtorek", "Sroda", "Czwartel", "Piątek", "Sobota", "Niedziela"],
                datasets: [{
                    label: 'liczba umówionych wizyt',
                    data: [12, 19, 3, 5, 2, 3],
<!--                    backgroundColor: [-->
<!--                        'rgba(255, 99, 132, 0.2)',-->
<!--                        'rgba(54, 162, 235, 0.2)',-->
<!--                        'rgba(255, 206, 86, 0.2)',-->
<!--                        'rgba(75, 192, 192, 0.2)',-->
<!--                        'rgba(153, 102, 255, 0.2)',-->
<!--                        'rgba(255, 159, 64, 0.2)'-->
<!--                    ],-->
<!--                    borderColor: [-->
<!--                        'rgba(255, 99, 132, 1)',-->
<!--                        'rgba(54, 162, 235, 1)',-->
<!--                        'rgba(255, 206, 86, 1)',-->
<!--                        'rgba(75, 192, 192, 1)',-->
<!--                        'rgba(153, 102, 255, 1)',-->
<!--                        'rgba(255, 159, 64, 1)'-->
<!--                    ],-->
                    borderWidth: 1
                }]
            }
<!--            options: {-->
<!--                scales: {-->
<!--                    yAxes: [{-->
<!--                        ticks: {-->
<!--                            beginAtZero: true-->
<!--                        }-->
<!--                    }]-->
<!--                }-->
<!--            }-->
        });
        myChart.update();
    }



</script>



</body>
</html>
</title>
</head>
<body>

</body>
</html>